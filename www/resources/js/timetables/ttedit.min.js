$(function(){$("table tbody td"),_USRGRP;$("tr td").addClass("notAdmin");var e="Órakiválasztó-felület frissítése",t="object"!=typeof _dispDays?"":_dispDays,a=t,l=0,s=!1,i=!0,o=function(s){var i=$(".backWeek");return"back"==s&&i.is(":disabled")?$.Dialog.fail(e,"A jelenlegi hétről nem tudsz visszalépni egy előző hétre!"):($.Dialog.wait(e),void $.ajax({method:"POST",url:"/homeworks/getTimetable/nextBack",data:pushToken({move:s,dispDays:t,showAllGroups:l}),success:function(e){var l=$(e);a=t,t=JSON.parse(l.filter(".dispDays").detach().text());var s=JSON.parse(l.filter(".lockBack").detach().text());$(".timet").html(l.filter(".timet").html()),i.attr("disabled",s).blur(),$(".nextWeek").blur(),$.Dialog.close()}}))},c=$(".backWeek");c.on("click",function(){o("back")}),$(".nextWeek").on("click",function(){o("next")}),$("#startDatePicker").on("keydown blur",function(s){return"keydown"===s.type&&13===s.keyCode||"blur"===s.type?(s.preventDefault(),$.Dialog.wait(e),void $.ajax({method:"POST",url:"/homeworks/getTimetable/date",data:pushToken({date:$(this).val(),days:5,showAllGroups:l}),success:function(e){var l=$(e);a=t,t=e.dispDays,$(".timet").html(l.filter(".timet").html()),c.attr("disabled",e.lockBack),$.Dialog.close()}})):!0});var c=($("#lessonPicker"),$(".backWeek")),n=$("#js_switchView"),r=function(e){e.preventDefault(),$.Dialog.wait(),$.ajax({method:"POST",url:"/timetables/showTimetable/all",data:pushToken({dispDays:t}),success:function(e){l=1;var a=$(e);t=JSON.parse(a.filter(".dispDays").detach().text());var s=JSON.parse(a.filter(".lockBack").detach().text());$(".timet").removeClass("single").html(a.filter(".timet").html()),c.attr("disabled",s),n.attr("disabled",i=!0),$(".js_showAllTT").replaceWith('<a class="btn js_hideAllTT typcn typcn-user" href="#">Saját órarend</a>'),$(".js_hideAllTT").on("click",d),$.Dialog.close()}})};$(".js_showAllTT").on("click",r);var d=function(e){e.preventDefault(),$.Dialog.wait(),$.ajax({method:"POST",url:"/timetables/showTimetable/my",data:pushToken({dispDays:t}),success:function(e){l=0;var a=$(e);t=JSON.parse(a.filter(".dispDays").detach().text());var o=JSON.parse(a.filter(".lockBack").detach().text());$(".timet").html(a.filter(".timet").html()),c.attr("disabled",o),n.attr("disabled",i=!1),s&&$(".timet").addClass("single"),$(".js_hideAllTT").replaceWith("<a class='btn js_showAllTT typcn typcn-group' href='#'>Teljes nézet</a>"),$(".js_showAllTT").on("click",r),$.Dialog.close()}})};$(".js_hideAllTT").on("click",d),n.on("click",function(){s=!s,$(".timet")[(s?"add":"remove")+"Class"]("single"),n.toggleClass("typcn-eye typcn-eye-outline").text(s?"Hagyományos nézet":"Kompakt nézet")})});
//# sourceMappingURL=ttedit.min.js.map
