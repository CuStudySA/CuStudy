$("#dataform").on("submit",function(a){a.preventDefault();var t="Felhasználói adataim módosítása";$.Dialog.wait(t),$.ajax({method:"POST",url:"/profile/edit",data:$(this).serializeForm(),success:function(a){return"string"==typeof a?(console.log(a),$(window).trigger("ajaxerror"),!1):void(a.status?($.Dialog.success(t,a.message,!0),$(".name").text($("[name=name]").val()),$(".email").text($("[name=email]").val())):$.Dialog.fail(t,a.message))}}),$("[name=oldpassword], [name=password], [name=verpasswd]").val("")});var $connSel=$("#connect_s");$("#connect").on("click",function(a){a.preventDefault();var t="Fiókok összekapcsolása",e=$connSel.val();return e?void $.Dialog.confirm(t,"A fiókjának összekapcsolásához át kell irányítanunk Önt a szolgáltatójának weboldalára.<br>A sikeres azonosítás után a rendszer visszairányítja. Folytatja?",["Tovább a szolgáltatóhoz","Visszalépés"],function(a){a&&($.Dialog.wait(t,"Átirányítjuk..."),window.location.href="/profile/connect/"+e)}):$.Dialog.fail("Fiókok összekapcsolása","Fiókjának összekapcsolásához először válasszon ki egy szolgáltatót!")}),$(".disconnect").on("click",function(a){a.preventDefault();var t="Fiókok leválasztása";$.Dialog.confirm(t,"A kiválasztott szolgáltatóhoz kapcsolódó fiókot leválasztja a CuStudy fiókjáról, így az nem lesz látható a listában és nem lehet bejelentkezéshez használni. A művelet nem visszavonható! Folytatja?",["Leválasztás","Mégse"],function(e){e&&($.Dialog.wait(t),$.ajax({method:"POST",url:"/profile/unlink",data:pushToken({id:$(a.currentTarget).closest(".conn").attr("data-id")}),success:function(a){return"string"==typeof a?(console.log(a),$(window).trigger("ajaxerror"),!1):void(a.status?($.Dialog.success(t,a.message),setTimeout(function(){window.location.href="/profile"},2500)):$.Dialog.fail(t,a.message))}}))})}),$(".deactivate").on("click",function(a){a.preventDefault();var t="Fiókkapcsolat deaktiválása";$.Dialog.confirm(t,"A kiválaszott szolgáltatóval annak újra aktiválásáig nem tud majd bejelentkezni. Folytatja?",["Deaktiválás","Mégse"],function(e){e&&($.Dialog.wait(t),$.ajax({method:"POST",url:"/profile/deactivate",data:pushToken({id:$(a.currentTarget).closest(".conn").attr("data-id")}),success:function(a){return"string"==typeof a?(console.log(a),$(window).trigger("ajaxerror"),!1):void(a.status?($.Dialog.success(t,a.message),setTimeout(function(){window.location.href="/profile"},2500)):$.Dialog.fail(t,a.message))}}))})}),$(".activate").on("click",function(a){a.preventDefault();var t="Fiókkapcsolat aktiválása";$.Dialog.confirm(t,"A kiválaszott szolgáltató aktiválásával újra be tud majd jelentkezni vele. Folytatja?",["Aktiválása","Mégse"],function(e){e&&$.ajax({method:"POST",url:"/profile/activate",data:{id:$(a.currentTarget).closest(".conn").attr("data-id")},success:function(a){return"string"==typeof a?(console.log(a),$(window).trigger("ajaxerror"),!1):void(a.status?($.Dialog.success(t,a.message),setTimeout(function(){window.location.href="/profile"},2500)):$.Dialog.fail(t,a.message))}})})});
//# sourceMappingURL=profile.min.js.map
