"use strict";$(function(){var e=/(^|#)(?:_(?:=_)?)?$/,t=$("#sidebar");e.test(window.location.hash)&&window.history.replaceState({},"",window.location.href.replace(e,"")),t.find(".avatar").children("img").on("error",function(){this.src="/resources/img/user.svg"}),$("#logout").on("click",function(e){e.preventDefault();var t="Kilépés a rendszerből";$.Dialog.confirm(t,"Biztosan ki szeretnél jelentkezni?",["Kijelentkezek","Belépve maradok"],function(e){e&&($.Dialog.wait(t),$.ajax({method:"POST",url:"/logout",success:function(e){return"string"==typeof e?(console.log(e),$(window).trigger("ajaxerror"),!1):void(e.status?($.Dialog.success(t,e.message),window.location.href="/login"):$.Dialog.fail(t,"Kijelentkezés nem sikerült, próbálja meg később, vagy törölje a böngésző sütijeit!"))}}))})}),$("#mobile-header").find(".sidebar-toggle").on("click",function(){$body.toggleClass("sidebar-open"),$w.trigger("resize")}),$("#exit").on("click",function(e){e.preventDefault();var t="Kilépés az osztályból";$.Dialog.wait(t),$.ajax({method:"POST",url:"/logout/exit",success:function(e){return"string"==typeof e?(console.log(e),$(window).trigger("ajaxerror"),!1):void(e.status?($.Dialog.success(t,"Sikeresen kilépett az osztályból, átirányítjuk..."),setTimeout(function(){window.location.href="/fooldal"},1500)):$.Dialog.fail(t,"Kijelentkezés nem sikerült, próbálja meg később, vagy törölje a böngésző sütijeit!"))}})});var a=!1,i=$('<form id="js_form"><p>Kérem válasszon az elérhető szerepkörök közül:</p></form>');$(".avatar").children(".sessionswitch").on("click",function(){var e=$('<label style="text-align:left"><input type="radio" name="role" required> <b class="intezmeny"></b>: <span class="szerep"></span></label>'),t="Szerepkör-választás",s=function(){$.Dialog.request(t,i,"js_form","Szerepkör kiválasztása",function(e){e.on("submit",function(t){t.preventDefault();var a=e.serializeForm();$.Dialog.wait(!1,"Módosítások alkalmazása a munkameneten"),$.ajax({method:"POST",url:"/fooldal/roles/set",data:a,success:function(e){return"string"==typeof e?(console.log(e),$(window).trigger("ajaxerror"),!1):e.status?($.Dialog.success(!1,e.message),void setTimeout(function(){window.location.href="/"},1e3)):$.Dialog.fail(!1,e.message)}})})})};a?s():(a=!0,$.Dialog.wait(t,"Az elérhető szerepkörök lekérdezése folyamatban"),$.ajax({method:"POST",url:"/fooldal/roles/get",success:function(t){return"string"==typeof t?(console.log(t),$(window).trigger("ajaxerror"),!1):t.status?($.each(t.roles,function(t,a){var s=e.clone();s.find("input").attr("value",a.entryId).attr("disabled",1==a.active),s.find(".intezmeny").text(a.intezmeny),s.find(".szerep").text(a.szerep),i.append(s)}),void s()):$.Dialog.fail(!1,"Nem tudtuk lekérdezni az elérhető szerepkörök listáját! A szerepkör-választás pillanatnyilag nem lehetséges!")}}))});var s=t.find(".userdata > :not(.avatar)");$w.on("resize",function(){if($w.width()<650){var e=function(){s.filter(":not(.marquee)").addClass("marquee").simplemarquee({speed:35,cycles:1/0,space:25,handleHover:!1,delayBetweenCycles:1e3,easing:"ease-in-out"}).addClass("marquee")};if("function"==typeof $.fn.simplemarquee)return e();$.ajax({url:"/resources/js/min/jquery.simplemarquee.js",dataType:"script",cache:!0,success:e})}})});
//# sourceMappingURL=signed_in.js.map
