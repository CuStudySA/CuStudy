$(function(){function e(){return $.Dialog.close(),r?window.location.href="/":void $.ajax({url:"/?via-js",dataType:"json",success:function(e){function a(){r.prepend(e.sidebar).addClass("sidebar-slide"),$("title").text(e.title),history.replaceState({},"","/");var a=$("main");a.children(":not(#main)").remove(),a.append(e.main),n.addClass("loaded"),setTimeout(function(){n.remove()},410),t(0)}function t(e){"undefined"!=typeof i.js[e]&&$.ajax({url:i.js[e],dataType:"script",success:function(){t(e+1)},error:function(){throw new Error("JS #"+e+" - "+i.js[e])}})}var r=$(document.body),s=$(document.head),i={css:[],js:[]};$.each(e.css,function(e,a){var t=document.createElement("a");t.href=a,0===s.children('style[data-href="'+t.pathname+'"]').length&&i.css.push(t.pathname)}),$.each(e.js,function(e,a){var t=document.createElement("a");t.href=a,0===r.children('script[src="'+t.pathname+'"]').length&&i.js.push(t.pathname)}),function o(e){return"undefined"==typeof i.css[e]?a():void $.ajax({url:i.css[e],dataType:"text",success:function(a){return"string"!=typeof a?window.location.href="":(a=a.replace(/url\((['"])?\.\.\//g,"url($1/resources/"),s.append($.mk("style").text(a)),void o(e+1))},error:function(){throw new Error("CSS #"+e+" - "+i.css[e])}})}(0)}})}var a=$("form"),t="Regisztráció a rendszerbe meghívóval",n=$("#main").appendTo("body"),r=-1!==navigator.userAgent.toLowerCase().indexOf("trident")||-1!==navigator.userAgent.toLowerCase().indexOf("msie");void 0!=typeof Patterns&&$.each(Patterns,function(e,t){if("message"!=e&&"status"!=e){var n=a.find("[name="+e+"]");a.length&&n.attr("pattern",t)}}),a.on("submit",function(n){if(n.preventDefault(),a.find("[name=password]").val()!=a.find("[name=verpasswd]").val())return a.find("[name=password]").val(""),a.find("[name=verpasswd]").val(""),$.Dialog.fail(t,"A megadott jelszavak nem egyeznek meg. Kérjük gépelje be őket újra!");var r=a.serializeForm();$.Dialog.wait(t),$.ajax({method:"POST",url:"/invitation/registration",data:r,success:function(n){n.status?($("#contentDiv").html(n.html),a=$("form"),a.on("submit",function(n){n.preventDefault();var r=a.serializeForm();$.Dialog.wait(t),$.ajax({method:"POST",url:"/invitation/setGroupMembers",data:r,success:function(a){return a.status?void e():$.Dialog.fail(t,a.message)}})}),$.Dialog.close()):n.nogroup!==!0?$.Dialog.fail(t,n.message):e()}})})});
//# sourceMappingURL=invitation.min.js.map
