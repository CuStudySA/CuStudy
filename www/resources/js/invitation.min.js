$(function(){function e(){var e=$("#inner");$.Dialog.close(),e.width(e.width()+1).height(e.height()+1).addClass("animate"),$.get("/fooldal?no-header-js",function(e){setTimeout(function(){function t(){n.filter("#sidebar").prependTo(r),r.addClass("sidebar-slide"),$("title").text(n.filter("title").text()),$("main").prepend(n.filter("main").html()),$("#main").fadeOut(500,function(){$(this).remove()}),history.pushState("",{},"/"),a(0)}function a(e){"undefined"!=typeof l.js[e]&&$.ajax({url:l.js[e],dataType:"script",success:function(){a(e+1)},error:function(){window.location.reload()}})}var n=$(e),i=n.filter("script[src]"),s=n.filter("link[rel=stylesheet]"),r=$(document.body),o=$(document.head),l={css:[],js:[]};s.each(function(){var e=document.createElement("a");e.href=this.href,0===o.children('style[data-href="'+e.pathname+'"]').length&&l.css.push(e.pathname)}),i.each(function(){var e=document.createElement("a");e.href=this.src,0===r.children('script[src="'+e.pathname+'"]').length&&l.js.push(e.pathname)}),function c(e){return"undefined"==typeof l.css[e]?t():void $.ajax({url:l.css[e],success:function(t){return"string"!=typeof t?window.location.reload():(o.append($(document.createElement("style")).text(t)),void c(e+1))},error:function(){window.location.reload()}})}(0)},500)})}var t=$("form"),a="Regisztráció a rendszerbe meghívóval";void 0!=typeof Patterns&&$.each(Patterns,function(e,a){if("message"!=e&&"status"!=e){var n=t.find("[name="+e+"]");t.length&&n.attr("pattern",a)}}),t.on("submit",function(n){if(n.preventDefault(),t.find("[name=password]").val()!=t.find("[name=verpasswd]").val())return t.find("[name=password]").val(""),t.find("[name=verpasswd]").val(""),$.Dialog.fail(a,"A megadott jelszavak nem egyeznek meg. Kérjük gépelje be őket újra!");var i=t.serializeForm();$.Dialog.wait(a),$.ajax({method:"POST",url:"/invitation/registration",data:i,success:function(n){n.status?($("#contentDiv").html(n.html),t=$("form"),t.on("submit",function(n){n.preventDefault();var i=t.serializeForm();$.Dialog.wait(a),$.ajax({method:"POST",url:"/invitation/setGroupMembers",data:i,success:function(t){t.status?e():$.Dialog.fail(a,t.message)}})}),$.Dialog.close()):"nogroup"!=n.message?$.Dialog.fail(a,n.message):e()}})})});
//# sourceMappingURL=invitation.min.js.map
